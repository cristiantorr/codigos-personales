<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mapa con Imagen de Fondo</title>
    <link rel="stylesheet" href="./leaflet.css" />
    <style>
      #map {
        width: 100%; /* Ancho del mapa */
        height: 800px; /* Alto del mapa */
      }
    </style>
  </head>
  <body>
    <div id="map"></div>

    <script src="leaflet.js"></script>
    <script>
      // Crear el mapa y centrarlo en el centro de América del Sur
      /*  const map = L.map("map", {
        crs: L.CRS.EPSG3857, // Utiliza el sistema de coordenadas web estándar (EPSG:3857)
        zoomControl: true, // Habilitar el control de zoom
        attributionControl: true, // Habilitar los controles de atribución
      }).setView([0, -0], 3); // Centrado en el centro de América del Sur */
      const map = L.map("map").setView([0, -0], 3); // Centrado en el centro de América del Sur

      // Agregar un mapa base (OpenStreetMap)
      const tiles = L.tileLayer(
        "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
        {
          maxZoom: 19,
          attribution:
            '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
        }
      ).addTo(map);

      // Configurar la imagen personalizada como fondo
      var imageUrl = "mapa.png"; // Sustituye con la URL de tu imagen
      var imageBounds = [
        [-60, -180], // Coordenadas inferiores (lat, lon) - Esquinas del mapa
        [90, -30], // Coordenadas superiores (lat, lon) - Esquinas del mapa
      ];

      // Agregar la imagen como fondo del mapa
      L.imageOverlay(imageUrl, imageBounds).addTo(map);
      // Crear un icono personalizado para el ping (puede ser cualquier imagen)
      var customIcon = L.icon({
        iconUrl: "ping.png", // URL de la imagen que deseas usar como ping
        iconSize: [50, 50], // Tamaño del ícono
        iconAnchor: [25, 50], // Punto del ícono donde se ancla (la parte inferior del ícono)
        popupAnchor: [0, -50], // Donde aparece el popup (en relación con el ícono)
      });

      // Agregar un marcador en Brasil con el icono personalizado
      var markerBrasil = L.marker([-14.235, -51.9253], {
        icon: customIcon,
      }).addTo(map);
      markerBrasil.bindPopup("<b>Brasil</b>").openPopup();

      // Agregar un marcador en Colombia con el icono personalizado
      var markerColombia = L.marker([4.5709, -74.2973], {
        icon: customIcon,
      }).addTo(map);
      markerColombia.bindPopup("<b>Colombia</b>").openPopup();

      // Agregar un marcador en México con el icono personalizado
      var markerMexico = L.marker([23.6345, -102.5528], {
        icon: customIcon,
      }).addTo(map);
      markerMexico.bindPopup("<b>México</b>").openPopup();
    </script>
  </body>
</html>
